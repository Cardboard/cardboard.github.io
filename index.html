<!DOCTYPE HTML>
<meta charset="UTF-8">
<html>
    <head>
    <title>v√§lkommen till wampastompa.com</title>
    <link rel="stylesheet" type="text/css" href="style.css" /> 
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function() {
            if (window.location['pathname'] == "") { // oh no we do not want this crap
                window.location['pathname'] = "index.html";  
            }

            // get all heights on initial page load
            calculateHeights();

            // initial page refresh
            var current_page = (window.location.hash).substring(1); // ignore "#"
            if (current_page != "") {
                swapText(current_page);
            } else {
                refreshPage();
                swapText("about");
            }

            // click functions
            $("#about").click(function(){
                refreshPage();
                swapText("about");
            });
            $("#games").click(function(){
                refreshPage();
                swapText("games");
            });
            $("#music").click(function(){
                refreshPage();
                swapText("music");
            });
            $("#videos").click(function(){
                refreshPage();
                swapText("videos");
            });
            $("#art").click(function(){
                refreshPage();
                swapText("art");
            });
        });

        function refreshPage () {
            console.log("begin refreshPage");
            // fill vertical space with ~s
            var window_height = $(window).height();

            // get height of secondary buffer text because it might be taller...
            var secondary_height = $(".secondary > #secondary_text").height();
            var fill_height = window_height;
            if (window_height < secondary_height) { fill_height = secondary_height;}
            console.log(fill_height);

            var char_height = $(".color_header").height() // height of a character/line
            // difference between the text height and window height is what we need
            // to fill with tildes
            var padding_lines = 6;
            var padding = char_height * padding_lines;

            // need padding if the window is > text height
            if (window_height > secondary_height) { fill_height -= padding;}

            // non-negligable, positive number of new lines
            if (fill_height > char_height) {
                // subtract padding again in next line bc of text on left hand side
                var new_lines = Math.round(fill_height / char_height - padding_lines );
                var current_html;

                // reset #vertical_fill so that each click doesn't add more tildes
                $("#vertical_fill").html("");

                // create new tilde lines
                for (i=0; i<new_lines; i++) {
                  var current_html = $("#vertical_fill").html();
                  current_html += "<li><span class='color_blend'>~</span></li>";
                  $("#vertical_fill").html(current_html);
                };

                // set height of divider
                $(".divider").css("height", fill_height + char_height);
            }
            console.log("end refreshPage");
        }; // end refreshPage

        // calculate heights on initial load
        function calculateHeights(start_page) {
            console.log("begin calculateHeights");

            if (page == "about") {
                $(".secondary > #secondary_text").load("about.html");
                HEIGHT_ABOUT = $(".secondary > #secondary_text").height();
            } else if (page == "games") {
                $(".secondary > #secondary_text").load("games.html");
                HEIGHT_GAMES = $(".secondary > #secondary_text").height();
            } else if (page == "music") {
                $(".secondary > #secondary_text").load("music.html");
                HEIGHT_MUSIC = $(".secondary > #secondary_text").height();
            } else if (page == "videos") {
                $(".secondary > #secondary_text").load("videos.html");
                HEIGHT_VIDEOS = $(".secondary > #secondary_text").height();
            } else if (page == "art") {
                $(".secondary > #secondary_text").load("art.html");
                HEIGHT_ART = $(".secondary > #secondary_text").height();
            }
            console.log("end calculateHeights");
        };

        // get stored heights of all pages
        function getHeight(page) {
            console.log("begin getHeight");
            if (page == "about") {
                return HEIGHT_ABOUT;
            } else if (page == "games") {
                return HEIGHT_GAMES;
            } else if (page == "music") {
                return HEIGHT_MUSIC;
            } else if (page == "videos") {
                return HEIGHT_VIDEOS;
            } else if (page == "art") {
                return HEIGHT_ART;
            }
            console.log("end getHeight");
        };
        
        // control different "pages"
        function swapText(page) {
            console.log("begin swapText");
            if (page == "about") {
                $(".secondary > #secondary_text").load("about.html");
                $(".hr").html("~/about");
            } else if (page == "games") {
                $(".secondary > #secondary_text").load("games.html");
                $(".hr").html("~/games");
            } else if (page == "music") {
                $(".secondary > #secondary_text").load("music.html");
                $(".hr").html("~/music");
            } else if (page == "videos") {
                $(".secondary > #secondary_text").load("videos.html");
                $(".hr").html("~/videos");
            } else if (page == "art") {
                $(".secondary > #secondary_text").load("art.html");
                $(".hr").html("~/art");
            }
            console.log("end swapText");
        };
    </script>
    </head>
    <body>
        <div class="window">
            <div class="buffer main">
                <ul>
                    <li class="color_header">Users/matthew/</li>
                    <li><span class="color_third">|</span><span class="color_second">+</span><a id="about" href="#about">About</a><span class="color_second">/</span></li>
                    <li><span class="color_third">|</span><span class="color_second">+</span><a id="games" href="#games">Games</a><span class="color_second">/</span></li>
                    <li><span class="color_third">|</span><span class="color_second">+</span><a id="music" href="#music">Music</a><span class="color_second">/</span></li>
                    <li><span class="color_third">|</span><span class="color_second">+</span><a id="videos" href="#videos">Videos</a><span class="color_second">/</span></li>
                    <li><span class="color_third">|</span><span class="color_second">+</span><a id="art" href="#art">Art</a><span class="color_second">/</span></li>

                    <div id="vertical_fill"></div>
                    <li><span class="color_blend">~</span></li>
                </ul>
            </div>
        
            <div class="divider"></div>
            
            <div class="divider_numbers"></div>
        
            <div class="buffer secondary">

                <div id="secondary_text">
                    <!-- text will be placed here by the function swapText(pagename) --!>
                </div>

            </div>
            
            <div class="hr">~/index.html</div>
        </div>
    </body>
</html>
